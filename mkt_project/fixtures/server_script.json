[
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-09-20 08:42:12.876622",
  "module": "Mkt Project",
  "name": "Set Promotion Site Sumary in Projet",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "Projet",
  "script": "if len(doc.zones) > 0:\n    total = 0\n    for i in doc.zones:\n        total = total + i.distance\n        \n    doc.total = total\n    #doc.avarage = total / len(doc.zones)\n    #frappe.throw(str(total))\n    frappe.db.set_value('Projet', doc.name, 'total', total)\n    #frappe.db.commit()\n        ",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Save",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2024-09-12 12:28:38.686864",
  "module": "Mkt Project",
  "name": "Set Promotion Site Sumary",
  "rate_limit_count": 0,
  "rate_limit_seconds": 0,
  "reference_doctype": "Supplier",
  "script": "if len(doc.promotion_site) > 0:\n    total = 0\n    for i in doc.promotion_site:\n        total = total + i.distance\n        \n    doc.total = total\n    doc.average = total / len(doc.promotion_site)\n        ",
  "script_type": "DocType Event"
 }
]
{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-10-16 12:17:17.338607",
 "css": ".border {\r\n    border: 1px solid #dee2e6;\r\n}\r\n.border-left {\r\n    border-left: 1px solid #dee2e6;\r\n    margin-left: -1px;\r\n}\r\n.border-right {\r\n    border-right: 1px solid #dee2e6;\r\n}\r\n.align-middle {\r\n    vertical-align: middle;\r\n}\r\n.h-30 {\r\n        height: 30px;\r\n    }\r\n.mh-30 {\r\n    min-height: 10px;\r\n}\r\n.h-100 {\r\n    height: 100%;\r\n}\r\n.mh-100 {\r\n    max-height: 100%;\r\n}\r\n.d-inline-block {\r\n    display: inline-block;\r\n}\r\n.row-no-margin {\r\n  margin-top:-1px;\r\n  margin-right: -1px;\r\n  margin-left: -1px;\r\n  /*height: 25px;*/\r\n}\r\n.parent {\r\n  display: flex;\r\n  align-items: stretch;\r\n}\r\n.child {\r\n  flex: 1;\r\n}\r\n.bgcolor {\r\n    background-color: beige;\r\n}\r\n.right_align {\r\n  text-align: right;\r\n  /*border: 1px solid green;*/\r\n}\r\n.nopadding {\r\n   padding: 0 !important;\r\n   margin: 0 !important;\r\n}\r\n.separator {\r\n  background-color: beige; /* Gray color */\r\n  height: 10px; /* Adjust the height of the separator as needed */\r\n}\r\n\r\n[document-status]{\r\n    margin-bottom: 0;\r\n    visibility: hidden;\r\n    height:0;\r\n}\r\n\r\n.mid_center_align {\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n.rigth_center_align {\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: right;\r\n}\r\n.left_center_align {\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: left;\r\n}\r\n.padding_left_right {\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n}\r\n.margin_left_right {\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n}\r\n.page_break_after {\r\n    page-break-after: always;\r\n}\r\n.page_break_before {\r\n    page-break-before: always;\r\n}\r\n.title_1 {\r\n    font-size: 1.2rem; \r\n}\r\n.title_2 {\r\n    font-size: 1rem; \r\n}\r\n.title_3 {\r\n    font-size: 0.8rem; \r\n}\r\n\r\n.font_bold {\r\n    font-weight: bold;\r\n}\r\n\r\n.bg_green {\r\n    background-color: #E9F6DE;\r\n}\r\n.bg_gray {\r\n    background-color: #F4F5F6;\r\n}\r\n.signature {\r\n    height: 60px;\r\n}\r\n\r\n.mid_left_align {\r\n    height: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    /*justify-content: center;*/\r\n}\r\n.Titre_table {\r\n    display: flex;\r\n    align-items: center;\r\n    /*justify-content: center;*/\r\n    height: 100%;\r\n    margin: 0; /* Remove any margin */\r\n    padding: 0; /* Remove any padding */\r\n}\r\n.print-ft {\r\n    font-size: 9pt;\r\n    font-family: Inter, \"Helvetica Neue\", Helvetica, Arial, \"Open Sans\", sans-serif;\r\n    -webkit-print-color-adjust: exact;\r\n}\r\n.no-border{\r\n    border: 0px !important;\r\n}\r\n/*@page {\r\n  size: A4;\r\n  margin: 0;\r\n}\r\n@media print {\r\n  html, body {\r\n    width: 210mm;\r\n    height: 297mm;\r\n  }\r\n  \r\n}*/",
 "custom_format": 1,
 "default_print_language": "en-US",
 "disabled": 1,
 "doc_type": "Projet",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!-- MECANIC -->\r\n{% macro generate_table(title) %}\r\n\t<table class=\"table table-bordered\" style=\"margin: 0px !important; padding: 0px !important;\">\r\n\t  <tbody>\r\n\t\t<tr>\r\n\t\t  <td colspan=\"2\" class=\"text-center\" style=\"margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t<div class=\"Titre_table\">{{ title }}</div>\r\n\t\t  </td>\r\n\t\t</tr>\r\n\t\t{% if title == \"SELLING\" %}\r\n\t\t\t{% set m_products = frappe.db.sql(\"SELECT item, qty, prix_vente FROM `tabSales Details` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1) %}\r\n\t\t\t<tr>\r\n\t\t\t  <td class=\"text-left\" style=\"padding: 0px !important; width: 25%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t<small class=\"margin_left_right\">Piece</small>\r\n\t\t\t  </td>\r\n\t\t\t  <td class=\"text-left\" style=\"padding: 0px !important; width: 75%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t<small class=\"margin_left_right\" style=\"display: block; width: 100%;\">{{ m_products[0].prix_vente }}</small>\r\n\t\t\t  </td>\r\n\t\t\t</tr>\r\n\t\t{% elif title == \"TASTING\" %}\r\n\t\t\t{% set m_products = frappe.db.sql(\"SELECT item, qty FROM `tabTasting Details` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1) %}\r\n\t\t{% elif title == \"SAMPLING\" %}\r\n\t\t\t{% set m_products = frappe.db.sql(\"SELECT item, qty FROM `tabSampling Details` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1) %}\r\n\t\t{% elif title == \"SURVEY\" %}\r\n\t\t\t{% set m_products = frappe.db.sql(\"SELECT type, nombre FROM `tabRH Survey` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1) %}\r\n\t\t{% elif title == \"AUTRES\" %}\r\n\t\t\t{% set m_products = frappe.db.sql(\"SELECT item, qty FROM `tabVisibility Details` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1) %}\r\n\t\t{% endif %}\r\n\t\t{% for p in m_products %}\r\n\t\t\t{% if title != \"SURVEY\" %}\r\n\t\t\t\t{% set item_name = frappe.db.get_value(\"Item\", p.item,\"item_name\") %} \r\n\t\t\t\t<tr>\r\n\t\t\t\t  <td class=\"text-left\" style=\"padding: 0px !important; width: 25%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">1</small>\r\n\t\t\t\t  </td>\r\n\t\t\t\t  <td class=\"text-left\" style=\"padding: 0px !important; width: 75%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\" style=\"display: block; width: 100%;\">{{ item_name }}</small>\r\n\t\t\t\t  </td>\r\n\t\t\t\t</tr>\r\n\t\t\t{% else %}\r\n\t\t\t\t<tr>\r\n\t\t\t\t  <td class=\"text-left\" style=\"padding: 0px !important; width: 25%\">\r\n\t\t\t\t\t<small class=\"margin_left_right\" style=\"display: block; width: 100%;\">{{ p.nombre }}</small>\r\n\t\t\t\t  </td>\r\n\t\t\t\t  <td class=\"text-left\" style=\"padding: 0px !important; width: 75%;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\" style=\"display: block; width: 100%;\">{{ p.type }}</small>\r\n\t\t\t\t  </td>\r\n\t\t\t\t</tr>\r\n\t\t\t{% endif %}\r\n\t\t{% endfor %}\r\n\t  </tbody>\r\n\t</table>\t\r\n{% endmacro %}\r\n<!-- MECANIC -->\r\n\r\n<table class=\"table table-bordered\" >\r\n  <tbody>\r\n\t<tr style=\"height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 2px !important;width: 15%\">\r\n\t\t<img src=\"/private/files/logo.png\" class=\"card-img-top\" alt=\"MARSAVCO SA\">\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;width: 85%; \">\r\n\t\t<div class=\"bgcolor Titre_table\" style=\"width: 100%;height:73px\"><center><h1>{{doc.titre}}</h1></center>\r\n\t\t</div>\r\n\t</td>\r\n\t</tr>\r\n\t<tr style=\"height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 2px !important;width: 15%\">\r\n\t\t <small class=\"mid_left_align margin_left_right\">PROJECT CODE</small>\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;width: 85%; \">\r\n\t\t<table class=\"print-ft\" style=\"width:100%\">\r\n\t\t  <tbody>\r\n\t\t\t<tr>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 40%;border: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">{{doc.name}}</small>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 30%;border: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">START DATE: {{\" \"}}{{ doc.start_date }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 30%;border: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">START TIME: {{\" \"}}{{ doc.start_time }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t  </tbody>\r\n\t\t</table>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t<tr style=\"height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 2px !important;width: 15%\">\r\n\t\t <small class=\"mid_left_align margin_left_right\">PROJECT LEADER</small>\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;width: 85%; \">\r\n\t\t<table class=\"table-borderless print-ft\"  style=\"width:100%\">\r\n\t\t  <tbody>\r\n\t\t\t<tr>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 40%;border: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">{{frappe.db.get_value(\"User\", doc.leader,\"full_name\")}}</small>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 30%;border: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">END DATE: {{\" \"}}{{ doc.end_date }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 30%;border: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">END TIME: {{\" \"}}{{ doc.end_time }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t  </tbody>\r\n\t\t</table>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t<tr style=\"height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 2px !important;width: 15%\">\r\n\t\t <small class=\"mid_left_align margin_left_right\">LOCATION</small>\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;width: 85%; \">\r\n\t\t<table class=\"table-borderless print-ft\"  style=\"width:100%\">\r\n\t\t  <tbody>\r\n\t\t\t<tr>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 40%;border: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">{{ doc.lieu }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 30%;border: 0px !important;\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">DURATION: </small>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 30%;border: 0px !important;\">\r\n\t\t\t\t    <small class=\"margin_left_right\">{{ doc.duration }} {{\" \"}} days</small>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t  </tbody>\r\n\t\t</table>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t<tr style=\"height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 2px !important;width: 15%;min-height: 30px;\">\r\n\t\t<small class=\"mid_left_align margin_left_right\">SUPPLIER</small>\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;width: 85%; \">\r\n\t\t<small class=\"margin_left_right\">{{frappe.db.get_value(\"Supplier\", doc.agence,\"supplier_name\")}}</small>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t<tr style=\"height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 2px !important;width: 15%\">\r\n\t\t <small class=\"mid_left_align margin_left_right\">BRANDS & PRODUCTS</small>\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;width: 75%; \">\r\n\t\t<table class=\"table-borderless print-ft\"  style=\"width:100%\">\r\n\t\t  <tbody>\r\n\t\t\t<tr>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 20%\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">{{ doc.marque_principale }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 80%\">\r\n\t\t\t\t\t<small class=\"margin_left_right\">\r\n\t\t\t\t\t\t{% set products = frappe.db.sql(\"SELECT d.item, i.item_name FROM `tabItem Details` d INNER JOIN `tabItem` i ON i.name = d.item WHERE d.parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1) %}\r\n\t\t\t\t\t\t{% for p in products %}\r\n\t\t\t\t\t\t\t<span>{{p[\"item_name\"]}}  {{\",\"}}</span>\r\n\t\t\t\t\t\t{% endfor %}\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t  </tbody>\r\n\t\t</table>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t<tr>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\">\r\n\t\t<small class=\"mid_left_align margin_left_right\">CONTEXT</small>\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\">\r\n\t\t<small class=\"margin_left_right\">{{doc.context}}</small>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t<tr  style=\"min-height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\">\r\n\t\t<small class=\"mid_left_align margin_left_right\">OBJECTIVE</small>\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\">\r\n\t\t<small class=\"margin_left_right\">{{doc.objective}}</small>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t<tr  style=\"min-height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\" colspan=\"2\">\r\n\t\t<div class=\"row-no-margin border parent separator\"></div>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t\r\n\r\n\t{% set mecanics = []  %}\r\n\t{% if doc.selling == 1 %}\r\n\t\t{% set row = ['selling','Sales Details']  %}\r\n\t\t{% set  _ = mecanics.append(row) %}\r\n\t{% endif %}\r\n\t{% if doc.tasting == 1 %}\r\n\t\t{% set row = ['tasting','Tasting Details']  %}\r\n\t\t{% set  _ = mecanics.append(row) %}\r\n\t{% endif %}\r\n\t{% if doc.sampling == 1 %}\r\n\t\t{% set row = ['sampling','Sampling Details']  %}\r\n\t\t{% set  _ = mecanics.append(row) %}\r\n\t{% endif %}\r\n\t{% if doc.survey == 1 %}\r\n\t\t{% set row = ['survey','RH Survey']  %}\r\n\t\t{% set  _ = mecanics.append(row) %}\r\n\t{% endif %}\r\n\t{% if doc.visibility == 1 %}\r\n\t\t{% set row = ['autres','Visibility Details']  %}\r\n\t\t{% set  _ = mecanics.append(row) %}\r\n\t{% endif %}\r\n\t\r\n\t\r\n\t<!-- Loop throw mecanics -->\r\n\t<tr>\r\n\t    <td  class=\"text-left\" style=\"padding: 0px !important;\">\r\n\t\t    <small class=\"mid_left_align margin_left_right\">MECANICS</small>\r\n\t    </td>\r\n\t    <td colspan=\"2\" style=\"padding: 0px !important;\">\r\n    \t\t<table class=\"table-borderless print-ft\" style=\"border: 0px !important; padding: 0px !important;\">\r\n    \t\t  <tbody>\r\n    \t\t    {% for m in mecanics %}\r\n                    {% if loop.index % 2 == 1 %}\r\n                        <tr>\r\n                    {% endif %}\r\n                    <td class=\"text-left\" style=\"width: 50%;border: 0px !important; padding: 0px !important;\">\r\n                        {% set title = m[0]  %}\r\n                        {{ generate_table(title|upper) }}\r\n                    </td>\r\n                    {% if loop.index % 2 == 0 or loop.last %}\r\n                        </tr>\r\n                    {% endif %}\r\n                {% endfor %}\r\n    \t\t  </tbody>\r\n    \t\t</table>\r\n\t\t</td>\r\n\t</tr>\r\n\t\r\n\t<tr style=\"height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 2px !important;width: 15%\">\r\n\t\t <small class=\"mid_left_align margin_left_right\">TARGET</small>\r\n\t  </td>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;width: 85%; \">\r\n\t\t<table class=\"table-borderless print-ft\"  style=\"width:100%\">\r\n\t\t  <tbody>\r\n\t\t\t{% if doc.selling == 1 %}\r\n\t\t\t{% set rh_doc = frappe.db.sql(\"SELECT sum(nombre) as nombre FROM `tabRH Sales` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1) %}\r\n\t\t\t{% set nb = rh_doc[0].nombre * doc.duration|float %}\r\n\t\t\t<tr>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 34%\">\r\n\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">Sales Pack/Day/Promoter: {{ frappe.utils.fmt_money(nb, currency = '', precision = 0) }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 33%\"> \r\n\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">Sales: {{\" \"}}{{ frappe.utils.fmt_money(doc.revenue_sales, currency = '', precision = 0) }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t\t{% if my_list|length > 1 %}\r\n\t\t\t\t\t{% if doc.tasting == 1 %}\r\n\t\t\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 33%\">  \r\n\t\t\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">Consommateur Tasting: {{\" \"}}{{ frappe.utils.fmt_money(doc.revenue_tasting, currency = '', precision = 0) }}</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t{% else %}\r\n\t\t\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 33%\">  \r\n\t\t\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">Consommateur Sampling: {{\" \"}}{{ frappe.utils.fmt_money(doc.revenue_sampling, currency = '', precision = 0) }}</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t{% endif %}\r\n\t\t\t\t{% endif %}\r\n\t\t\t</tr>\r\n\t\t\r\n\t\t<tr>\r\n\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 33%\"> \r\n\t\t\t\t<small class=\"mid_left_align margin_left_right\">Total Pack for all action: {{ frappe.utils.fmt_money(doc.volume_sales, currency = '', precision = 0) }}</small>\r\n\t\t\t</td>\r\n\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 33%\">\r\n\t\t\t\t<small class=\"mid_left_align margin_left_right\">Consommateur: {{ frappe.utils.fmt_money(doc.volume_sales, currency = '', precision = 0) }}</small>\r\n\t\t\t</td>\r\n\t\t\t{% if my_list|length > 2 %}\r\n\t\t\t\t<td  class=\"text-left\" style=\"padding: 0px !important;width: 33%\"> \r\n\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">Consommateur Sampling: {{\" \"}}{{ frappe.utils.fmt_money(doc.revenue_sampling, currency = '', precision = 0) }}</small>\r\n\t\t\t\t</td>\r\n\t\t\t{% endif %}\r\n\t\t</tr>\r\n\t\t{% endif %}\r\n\t\t\t\r\n\t\t  </tbody>\r\n\t\t</table>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t{% if doc.selling == 1 %}\r\n\t{% set products = frappe.db.sql(\"SELECT item, qty, cout FROM `tabSales Details` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1) %}\r\n\t{% set montant = 0 %}\r\n\t{% for p in products%}\r\n\t\t{% set mt = p.qty * p.cout %}\r\n\t\t{% set montant = montant + mt %}\r\n\t{% endfor %}\r\n\t{% set cout_global = montant / doc.volume_sales|float %}\r\n\t<tr>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\">\r\n\t\t  <small class=\"mid_left_align margin_left_right\">SELLING</small>\r\n\t  </td>\r\n\t  <td colspan=\"2\" style=\"padding: 0px !important;\">\r\n\t\t<table class=\"table table-bordered\" style=\"margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 25%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"left_center_align margin_left_right\"><b>DESIGNATIONS</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.67%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\"><b>QTES</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.66%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\"><b>P.U.</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.66%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\"><b>TOTAL</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 25%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"mid_center_align margin_left_right\"><b>OBSERVATIONS</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">SALES</small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\">{{frappe.utils.fmt_money(doc.volume_sales, currency = '', precision = 0)}}</small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\">{{(doc.revenue_sales | float/doc.volume_sales | float)|flt(2)}}</small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\">{{frappe.utils.fmt_money(doc.revenue_sales, currency = '', precision = 0)}}</small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td oolsmall=\"3\" class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">TOTAL</small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\" colspan = \"3\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\">{{frappe.utils.fmt_money(doc.revenue_sales, currency = '', precision = 0) }}</small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t  </td>\r\n\t<tr>\r\n{% endif %}\r\n\r\n\t<tr  style=\"min-height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\" colspan=\"2\">\r\n\t\t<div class=\"row-no-margin border parent separator\"></div>\r\n\t  </td>\r\n\t</tr>\r\n\r\n\t<tr>\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\">\r\n\t\t  <small class=\"mid_left_align margin_left_right\">BUDGET</small>\r\n\t  </td>\r\n\t  <td colsmall=\"2\" style=\"padding: 0px !important;\">\r\n\t\t<table class=\"table table-bordered\" style=\"margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 25%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"left_center_align margin_left_right\"><b>DESIGNATIONS</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.67%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\"><b>QTES</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.66%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\"><b>P.U.</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.66%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\"><b>TOTAL</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 25%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"mid_center_align margin_left_right\"><b>OBSERVATIONS</b></small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t{% set lines = frappe.db.sql(\"SELECT `type`,SUM(qte) AS qte, SUM(total) AS total,observation,`order`, SUM(total) / SUM(qte) AS pu FROM `tabBudget Details` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"' GROUP BY `type`, observation, `order` ORDER BY `order`\", as_dict = 1)  %}\r\n\t\t\t\t{% set total = 0 %}\r\n\t\t\t\t{% set orders = [] %}\r\n\t\t\t\t{% set exists = [] %}\r\n\t\t\t\t{% for l in lines%}\r\n\t\t\t\t{% if not l.order[0] in orders %}\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t  <td  class=\"text-left\" style=\"padding: 0px !important;\" colspan=\"5\">\r\n\t\t\t\t\t\t{% set i = exists|sum() %}\r\n\t\t\t\t\t\t<small class=\"mid_left_align margin_left_right\"><b>{{mecanics[i][0]|capitalize}}</b></small>\r\n\t\t\t\t\t  </td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t{% set _ = exists.append(1) %}\r\n\t\t\t\t{% endif %}\r\n\t\t\t\t{% set _ = orders.append(l.order[0]) %}\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">{{l.type}}</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\">{{frappe.utils.fmt_money(l.qte, currency = '', precision = 0)}}</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\">{{ l.pu|flt(2)}}</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\">{{ frappe.utils.fmt_money(l.total, currency = '', precision = 2) }}</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">{{l.observation if l.observation is not none else ' '}}</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t{% set total = total + l.total %}\r\n\t\t\t\t{% endfor %}\r\n\t\t\t\t{% set obj = frappe.db.sql(\"SELECT SUM(total) AS total FROM `tabBudget Details` WHERE parent = \" ~ \"'\" ~ doc.name ~ \"'\", as_dict = 1)  %}\r\n\t\t\t\t<tr> \r\n\t\t\t\t\t<td oolsmall=\"3\" class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t<small class=\"mid_left_align margin_left_right\">TOTAL</small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\" colspan = \"3\">\r\n\t\t\t\t\t\t<small class=\"rigth_center_align margin_left_right\">{{ frappe.utils.fmt_money(obj[0].total, currency = '', precision = 2) }}</small>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t  </td>\r\n\t<tr>\t\r\n\t\r\n\t<tr  style=\"min-height: 30px;\">\r\n\t  <td  class=\"text-left\" style=\"padding: 0px !important;\" colspan=\"2\">\r\n\t\t<div class=\"row-no-margin border parent separator\"></div>\r\n\t  </td>\r\n\t</tr>\r\n\t\r\n\t<tr>\r\n\t\t<td colspan=\"3\" style=\"padding: 0px !important;\">\r\n\t\t\t<table class=\"table table-bordered\" style=\"margin: 0px !important; padding: 0px !important;width:100%\">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.67%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"mid_center_align margin_left_right\">PROJECT LEADER</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.67%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"mid_center_align margin_left_right\">BM</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.66%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"mid_center_align margin_left_right\">HOD</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.66%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"mid_center_align margin_left_right\">CFO</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.66%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"mid_center_align margin_left_right\">CEO</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"text-left\" style=\"padding: 0px !important; width: 16.67%;margin: 0px !important; padding: 0px !important;\">\r\n\t\t\t\t\t\t\t<small class=\"mid_center_align margin_left_right\">AUDIT</small>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr  style=\"height: 50px;\">\r\n\t\t\t\t\t  <td  class=\"text-left\" style=\"padding: 0px !important;\" colspan=\"6\">\r\n\t\t\t\t\t  </td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\t\t\t\r\n\t\t</td>\r\n\t</tr>\r\n\t\r\n  </tbody>\r\n</table>\r\n\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-06-28 15:06:04.499410",
 "modified_by": "Administrator",
 "module": "Mkt Project",
 "name": "Marketing 4",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}